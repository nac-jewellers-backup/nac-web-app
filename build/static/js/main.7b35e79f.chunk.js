(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return a});var r="http://auth-dev.ap-south-1.elasticbeanstalk.com",o="",a="https://s3.ap-south-1.amazonaws.com/staging-assets.stylori.com/base_images/"},19:function(n,t,e){"use strict";e.d(t,"a",function(){return u});var r=e(3),o=e(0),a=e.n(o),i=e(42),c=e(20),u=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.a.useState(!0),u=Object(r.a)(o,2),s=u[0],l=u[1],d=a.a.useState(!1),f=Object(r.a)(d,2),p=f[0],m=f[1],b=a.a.useState({}),h=Object(r.a)(b,2),g=h[0],v=h[1],y=a.a.useState({}),k=Object(r.a)(y,2),w=k[0],x=k[1],C=a.a.useContext(c.a).NetworkCtx,O=C.graphqlUrl,P=C.cdnUrl,S=Object(i.a)({uri:O}),j=function(){S({query:n,variables:e}).then(function(n){if(l(!1),m(!1),v(n),t&&g)try{var e=t(g,P);x(e)}catch(p){console.error("MAPPER ERROR",p),m(!0),x({})}}).catch(function(n){l(!1),m(!0),v([]),x([])})};return a.a.useEffect(function(){j()},[]),{error:p,loading:s,data:g,mappedData:w,makeRequest:j}}},20:function(n,t,e){"use strict";e.d(t,"a",function(){return u}),e.d(t,"b",function(){return s});var r=e(3),o=e(0),a=e.n(o),i=e(15),c={NetworkCtx:{apiUrl:i.a,token:null,homePage:i.c,graphqlUrl:"".concat(i.a,"/graphql"),cdnUrl:i.b,LoginCtx:{email:"",password:""}},setNetworkCtx:function(){return null}},u=a.a.createContext(c),s=(u.Consumer,function(n){var t=a.a.useState(c.NetworkCtx),e=Object(r.a)(t,2),o=e[0],i=e[1];return a.a.createElement(u.Provider,{value:{NetworkCtx:o,setNetworkCtx:i}},n.children)})},23:function(n,t,e){"use strict";var r=e(3),o=e(0),a=e.n(o),i={GLobalCtx:{loggedIn:!1},setGlobaCtx:function(){return null}},c=a.a.createContext(i),u=(c.Consumer,function(n){var t=a.a.useState(i.GLobalCtx),e=Object(r.a)(t,2),o=e[0],u=e[1];return a.a.createElement(c.Provider,{value:{Globalctx:o,setGlobalCtx:u}},n.children)}),s=e(20),l=e(34),d=e(19),f=function(n){var t={},e=n.paramsArrayOfObject.map(function(n){return Object.keys(n)});return console.info("filterKeys",e,n),e.map(function(e){switch(e){case"productId":t.productId=n[e];break;case"Collection":t.Collection='productCollectionsByProductId(condition: {collectionName: "Loops"}) {\n              nodes {\n                collectionName\n              }\n            }'}}),t},p=e(8),m=a.a.createContext({FilterOptionsCtx:{filters:{Offers:null,Availability:null,ProductType:null,style:null,material:null,Theme:null,Collection:null,metalColor:null,MetalPurity:null,Occasion:null,NoOfStones:null,Gender:null,stoneColor:null,stoneShape:null},loading:!1,error:!1,data:[]},setFilters:function(n){}}),b=(m.Consumer,Object(p.g)(function(n){var t=a.a.useState({Offers:{},Availability:{},ProductType:{},style:{},material:{},Theme:{},Collection:{},metalColor:{},MetalPurity:{},Occasion:{},NoOfStones:{},Gender:{},stoneColor:{},stoneShape:{}}),e=Object(r.a)(t,2),i=e[0],c=e[1],u=[];Object(o.useEffect)(function(){!function(){Object.keys(i).map(function(n){var t=i[n],e=Object.keys(t);if(e.length>0&&t[e[0]]){var r="".concat(n,"=").concat(e[0]);u.push(r)}});var t=encodeURI(u.join("&"));n.history.push({pathname:"/stylori",search:""!==t?t:window.location.search})}()},[i]);var s=[];if(window.location.search){var l=window.location.search;decodeURI(l).replace("?","").split("&").map(function(n){return n.split("=")}).map(function(n){var t={},e=n[0],r=n[1];t[e]=r,s.push(t)})}var p={condition:f({paramsArrayOfObject:s})},b=Object(d.a)("query fetchProductDetails($condition: ProductListCondition) {\n  allProductLists(condition: $condition, first:17) {\n    nodes {\n      productName\n      productId\n      defaultSize\n      sizeVarient\n      productType\n      productDiamondsByProductSku {\n        nodes {\n          diamondClarity\n          diamondColour\n          diamondType\n          stoneWeight\n          diamondShape\n          diamondSettings\n          stoneCount\n        }\n      }\n      transSkuListsByProductId {\n        nodes {\n          skuSize\n          purity\n          markupPrice\n          sellingPrice\n          discountPrice\n        }\n      }\n      productImagesByProductId {\n        nodes {\n          ishover\n          imageUrl\n          imagePosition\n        }\n      }\n    }\n  }\n}\n",function(){},p),h=b.loading,g=b.error,v=b.data,y={filters:i,loading:h,error:g,data:v,setFilters:c};return a.a.createElement(m.Provider,{value:{FilterOptionsCtx:y,setFilters:c}},n.children)}));e.d(t,"c",function(){return u}),e.d(t,"d",function(){return s.b}),e.d(t,"e",function(){return l.b}),e.d(t,"a",function(){return m}),e.d(t,"b",function(){return b})},24:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return o});var r="query fetchProductDetails($condition: ProductListCondition) {\n  allProductLists(condition: $condition, first: 20) {\n    nodes {\n      productName\n      productId\n      defaultSize\n      sizeVarient\n      colourVarient\n      defaultWeight\n      productType\n      productImagesByProductId {\n        nodes {\n          ishover\n          imageUrl\n          imagePosition\n        }\n      }\n      productDiamondsByProductSku {\n        nodes {\n          diamondClarity\n          diamondColour\n          diamondType\n          stoneWeight\n          diamondShape\n          diamondSettings\n          stoneCount\n        }\n      }\n      transSkuListsByProductId(condition: {isdefault: true}) {\n        nodes {\n          skuSize\n          markupPrice\n          sellingPrice\n          purity\n          metalColor\n            transSkuDescriptionsBySkuId {\n            nodes {\n              skuDescription\n            }\n          }\n        }\n      }\n      productGemstonesByProductSku {\n        nodes {\n          gemstoneType\n          gemstoneSize\n          gemstoneShape\n          gemstoneSetting\n          productSku\n          stoneCount\n        }\n      }\n    }\n  }\n}\n",o={productId:function(n){return{condition:{productId:n}}},generateCondition:function(n){var t={};return Object.keys(n).map(function(e){switch(e){case"productId":t.productId=n[e]}}),t}}},34:function(n,t,e){"use strict";e.d(t,"a",function(){return l}),e.d(t,"b",function(){return d});var r=e(30),o=e(3),a=e(0),i=e.n(a),c=e(19),u=e(24),s=e(8),l=i.a.createContext({ProductDetailCtx:{filters:{ringSize:null,metalPurity:null,diamondClarity:null},loading:!1,error:!1,data:[]},setFilters:function(){}}),d=(l.Consumer,Object(s.g)(function(n){var t=n.productId,e=i.a.useState({ringSize:"",metalPurity:"",diamondClarity:""}),s=Object(o.a)(e,2),d=s[0],f=s[1];Object(a.useEffect)(function(){!function(){var n=[];n.push(d),encodeURI(n)}()},[d]);var p={condition:u.b.generateCondition(Object(r.a)({},d,{productId:t}))},m=Object(c.a)(u.a,function(){},p),b=m.loading,h=m.error,g=m.data,v={filters:d,loading:b,error:h,data:g};return i.a.createElement(l.Provider,{value:{ProductDetailCtx:v,setFilters:f}},n.children)}))},36:function(n,t,e){"use strict";var r=e(0),o=e.n(r),a=(e(54),o.a.createElement("div",{className:"overall-loader"},o.a.createElement("div",{id:"loading"})));t.a=a},43:function(n,t,e){n.exports=e(58)},53:function(n,t,e){},54:function(n,t,e){},56:function(n){n.exports={palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(57, 69, 120, 1)",main:"rgba(58, 69, 120, 1)",dark:"rgba(49, 63, 92, 1)",contrastText:"#fff"},secondary:{light:"rgba(246, 153, 163, 1)",main:"rgba(241, 72, 128, 1)",dark:"rgba(234, 83, 129, 1)",contrastText:"#fff"},error:{light:"rgba(199, 110, 108, 1)",main:"rgba(185, 74, 72, 1)",dark:"rgba(129, 51, 50, 1)",contrastText:"#fff"},text:{primary:"#394578",secondary:"rgba(0, 0, 0, 0.54)",disabled:"#7b7b7b",hint:"rgba(0, 0, 0, 0.38)"},overallButoon:{primary:"#f36e23",contrastText:"#fff"}}}},58:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),a=e(29),i=e.n(a),c=e(17),u=e(23),s=(e(53),e(36)),l=e(64),d=e(66),f=e(65),p=Object(l.a)(e(56)),m=Object(d.a)(p),b=o.a.lazy(function(){return Promise.all([e.e(2),e.e(4)]).then(e.bind(null,305))});var h=function(n){return o.a.createElement(u.c,null,o.a.createElement(f.a,{theme:m},o.a.createElement(u.d,null,o.a.createElement(c.a,null,o.a.createElement(o.a.Suspense,{fallback:s.a},o.a.createElement(b,null))))))},g=e(9),v=e.n(g),y=e(16),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(){return(w=Object(y.a)(v.a.mark(function n(t){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C();case 2:n.next=7;break;case 6:window.addEventListener("load",function(){var n="".concat(".","/service-worker.js");k?(I(n,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(n,t)});case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}function x(n,t){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var e=n.installing;S("App is being cached localyy for offline purpose!"),null!=e&&(e.onstatechange=Object(y.a)(v.a.mark(function r(){var o,a,i;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("installed"!==e.state){r.next=12;break}if(o=!1,a="New version of app is installed",i="Your app is installed and works offline",!navigator.serviceWorker.controller){r.next=7;break}console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&(t.onUpdate(n),o=!0),r.next=12;break;case 7:if(console.log("Content is cached for offline use."),!t||!t.onSuccess){r.next=12;break}return r.next=11,S(o?a:i);case 11:t.onSuccess(n);case 12:case"end":return r.stop()}},r)})))}}).catch(function(n){console.error("Error during service worker registration:",n)})}function C(){return O.apply(this,arguments)}function O(){return(O=Object(y.a)(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(P()){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,window.Notification.requestPermission();case 4:if("granted"===n.sent){n.next=8;break}n.next=13;break;case 8:if(localStorage.getItem("firstnotify")){n.next=12;break}return n.next=11,S("Ohoo.. your first notification \ud83c\udf89\ud83d\ude4c");case 11:localStorage.setItem("firstnotify",!0);case 12:return n.abrupt("return",!0);case 13:case 14:case"end":return n.stop()}},n)}))).apply(this,arguments)}function P(){return"serviceWorker"in navigator&&"PushManager"in window||(alert("Sorry notifications are not yet supported"),!1)}function S(n){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(v.a.mark(function n(t){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!P()){n.next=5;break}return n.next=3,new Notification(t);case 3:n.next=7;break;case 5:return n.next=7,C();case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}function I(n,t){fetch(n).then(function(e){var r=e.headers.get("content-type");404===e.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):x(n,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}window.addEventListener("online",function(n){S("Lost internet connection !")}),window.addEventListener("offline",function(n){S("Network connection restored !")}),i.a.render(o.a.createElement(h,null),document.getElementById("root")),function(n){w.apply(this,arguments)}()}},[[43,1,3]]]);
//# sourceMappingURL=main.7b35e79f.chunk.js.map