(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"c",function(){return a}),t.d(e,"b",function(){return o});var r="http://auth-dev.ap-south-1.elasticbeanstalk.com",a="",o="https://s3.ap-south-1.amazonaws.com/staging-assets.stylori.com/base_images/"},21:function(n,e,t){"use strict";t.d(e,"a",function(){return s});var r=t(3),a=t(0),o=t.n(a),i=t(43),c=t(22),s=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.a.useState(!0),s=Object(r.a)(a,2),u=s[0],l=s[1],d=o.a.useState(!1),f=Object(r.a)(d,2),p=f[0],b=f[1],m=o.a.useState({}),g=Object(r.a)(m,2),h=g[0],v=g[1],y=o.a.useState({}),w=Object(r.a)(y,2),k=w[0],x=w[1],C=o.a.useContext(c.a).NetworkCtx,O=C.graphqlUrl,S=C.cdnUrl,P=Object(i.a)({uri:O}),j=function(){P({query:n,variables:t}).then(function(n){if(l(!1),b(!1),v(n),e&&h)try{var t=e(h,S);x(t)}catch(p){console.error("MAPPER ERROR",p),b(!0),x({})}}).catch(function(n){l(!1),b(!0),v([]),x([])})};return o.a.useEffect(function(){j()},[]),{error:p,loading:u,data:h,mappedData:k,makeRequest:j}}},22:function(n,e,t){"use strict";t.d(e,"a",function(){return s}),t.d(e,"b",function(){return u});var r=t(3),a=t(0),o=t.n(a),i=t(16),c={NetworkCtx:{apiUrl:i.a,token:null,homePage:i.c,graphqlUrl:"".concat(i.a,"/graphql"),cdnUrl:i.b,LoginCtx:{email:"",password:""}},setNetworkCtx:function(){return null}},s=o.a.createContext(c),u=(s.Consumer,function(n){var e=o.a.useState(c.NetworkCtx),t=Object(r.a)(e,2),a=t[0],i=t[1];return o.a.createElement(s.Provider,{value:{NetworkCtx:a,setNetworkCtx:i}},n.children)})},25:function(n,e,t){"use strict";var r=t(3),a=t(0),o=t.n(a),i={GLobalCtx:{loggedIn:!1},setGlobaCtx:function(){return null}},c=o.a.createContext(i),s=(c.Consumer,function(n){var e=o.a.useState(i.GLobalCtx),t=Object(r.a)(e,2),a=t[0],s=t[1];return o.a.createElement(c.Provider,{value:{Globalctx:a,setGlobalCtx:s}},n.children)}),u=t(22),l=t(34),d=t(10),f=t(21),p=t(18),b=t(36),m=function(n){var e={};n.map(function(n){return String(Object.keys(n))});return n.map(function(n){var t=function(n,e){var t={table:"",type:""};switch(n){case"Collection":t={table:"productCollectionsByProductId",type:"collectionName"};break;case"Occasion":t={table:"productOccassionsByProductId",type:"occassionName"}}return Object(b.a)(t.type,e,t.table)}(String(Object.keys(n)),String(Object.values(n)));e=Object(p.a)({},e,t)}),Object.keys(e).length>0?{filter:e}:{}},g=t(8),h=o.a.createContext({FilterOptionsCtx:{filters:{Offers:null,Availability:null,ProductType:null,style:null,material:null,Theme:null,Collection:null,metalColor:null,MetalPurity:null,Occasion:null,NoOfStones:null,Gender:null,stoneColor:null,stoneShape:null},loading:!1,error:!1,data:[]},setFilters:function(n){}}),v=(h.Consumer,Object(g.g)(function(n){var e=o.a.useState({Offers:{},Availability:{},ProductType:{},style:{},material:{},Theme:{},Collection:{},metalColor:{},MetalPurity:{},Occasion:{},NoOfStones:{},Gender:{},stoneColor:{},stoneShape:{}}),t=Object(r.a)(e,2),i=t[0],c=t[1],s=[];Object(a.useEffect)(function(){!function(){Object.keys(i).map(function(n){var e=i[n],t=Object.keys(e);if(t.length>0&&e[t[0]]){var r="".concat(n,"=").concat(t[0]);s.push(r)}});var e=encodeURI(s.join("&"));n.history.push({pathname:"/stylori",search:""!==e?e:window.location.search})}()},[i]);var u=[];window.location.search&&(u=decodeURI(i).replace("?","").split("&").map(function(n){var e=n.split("=");return Object(d.a)({},e[0],e[1])}),console.log("val",u));var l=m(u),p=Object(f.a)("query fetchProductDetails($filter: ProductListFilter) {\n  allProductLists(filter: $filter, first: 10) {\n    nodes {\n      productName\n      productId\n      defaultSize\n      sizeVarient\n      productType\n      productDiamondsByProductSku {\n        nodes {\n          diamondClarity\n          diamondColour\n          diamondType\n          stoneWeight\n          diamondShape\n          diamondSettings\n          stoneCount\n        }\n      }\n      transSkuListsByProductId {\n        nodes {\n          skuSize\n          purity\n          markupPrice\n          sellingPrice\n          discountPrice\n          generatedSku\n        }\n      }\n      productImagesByProductId {\n        nodes {\n          ishover\n          imageUrl\n          imagePosition\n        }\n      }\n    }\n  }\n}\n",function(){},l),b=p.loading,g=p.error,v=p.data,y={filters:i,loading:b,error:g,data:v,setFilters:c};return o.a.createElement(h.Provider,{value:{FilterOptionsCtx:y,setFilters:c}},n.children)}));t.d(e,"c",function(){return s}),t.d(e,"d",function(){return u.b}),t.d(e,"e",function(){return l.b}),t.d(e,"a",function(){return h}),t.d(e,"b",function(){return v})},26:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return a});var r="query fetchProductDetails($condition: ProductListCondition) {\n  allProductLists(condition: $condition, first: 20) {\n    nodes {\n      productName\n      productId\n      defaultSize\n      sizeVarient\n      colourVarient\n      defaultWeight\n      productType\n      productImagesByProductId {\n        nodes {\n          ishover\n          imageUrl\n          imagePosition\n        }\n      }\n      productDiamondsByProductSku {\n        nodes {\n          diamondClarity\n          diamondColour\n          diamondType\n          stoneWeight\n          diamondShape\n          diamondSettings\n          stoneCount\n        }\n      }\n      transSkuListsByProductId(condition: {isdefault: true}) {\n        nodes {\n          skuSize\n          markupPrice\n          sellingPrice\n          purity\n          metalColor\n            transSkuDescriptionsBySkuId {\n            nodes {\n              skuDescription\n            }\n          }\n        }\n      }\n      productGemstonesByProductSku {\n        nodes {\n          gemstoneType\n          gemstoneSize\n          gemstoneShape\n          gemstoneSetting\n          productSku\n          stoneCount\n        }\n      }\n    }\n  }\n}\n",a={productId:function(n){return{condition:{productId:n}}},generateCondition:function(n){var e={};return Object.keys(n).map(function(t){switch(t){case"productId":e.productId=n[t]}}),e}}},34:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t.d(e,"b",function(){return d});var r=t(18),a=t(3),o=t(0),i=t.n(o),c=t(21),s=t(26),u=t(8),l=i.a.createContext({ProductDetailCtx:{filters:{ringSize:null,metalPurity:null,diamondClarity:null},loading:!1,error:!1,data:[]},setFilters:function(){}}),d=(l.Consumer,Object(u.g)(function(n){var e=n.productId,t=i.a.useState({ringSize:"",metalPurity:"",diamondClarity:""}),u=Object(a.a)(t,2),d=u[0],f=u[1];Object(o.useEffect)(function(){!function(){var n=[];n.push(d),encodeURI(n)}()},[d]);var p={condition:s.b.generateCondition(Object(r.a)({},d,{productId:e}))},b=Object(c.a)(s.a,function(){},p),m=b.loading,g=b.error,h=b.data,v={filters:d,loading:m,error:g,data:h};return i.a.createElement(l.Provider,{value:{ProductDetailCtx:v,setFilters:f}},n.children)}))},36:function(n,e,t){"use strict";t.d(e,"b",function(){return a}),t.d(e,"a",function(){return o});var r=t(10),a=[{res:"318x318",size:"375w"},{res:"372x372",size:"500w"},{res:"276x276",size:"1440w"},{res:"422x422",size:"600w"},{res:"247x247",size:"768w"},{res:"204x204",size:"1024w"},{res:"543x543",size:"2560w"}],o=function(n,e,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equalTo";return Object(r.a)({},t,{some:Object(r.a)({},n,Object(r.a)({},a,e))})}},37:function(n,e,t){"use strict";var r=t(0),a=t.n(r),o=(t(55),a.a.createElement("div",{className:"overall-loader"},a.a.createElement("div",{id:"loading"})));e.a=o},44:function(n,e,t){n.exports=t(59)},54:function(n,e,t){},55:function(n,e,t){},57:function(n){n.exports={palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(57, 69, 120, 1)",main:"rgba(58, 69, 120, 1)",dark:"rgba(49, 63, 92, 1)",contrastText:"#fff"},secondary:{light:"rgba(246, 153, 163, 1)",main:"rgba(241, 72, 128, 1)",dark:"rgba(234, 83, 129, 1)",contrastText:"#fff"},error:{light:"rgba(199, 110, 108, 1)",main:"rgba(185, 74, 72, 1)",dark:"rgba(129, 51, 50, 1)",contrastText:"#fff"},text:{primary:"#394578",secondary:"rgba(0, 0, 0, 0.54)",disabled:"#7b7b7b",hint:"rgba(0, 0, 0, 0.38)"},overallButoon:{primary:"#f36e23",contrastText:"#fff"}}}},59:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(30),i=t.n(o),c=t(19),s=t(25),u=(t(54),t(37)),l=t(65),d=t(67),f=t(66),p=Object(l.a)(t(57)),b=Object(d.a)(p),m=a.a.lazy(function(){return Promise.all([t.e(2),t.e(4)]).then(t.bind(null,306))});var g=function(n){return a.a.createElement(s.c,null,a.a.createElement(f.a,{theme:b},a.a.createElement(s.d,null,a.a.createElement(c.a,null,a.a.createElement(a.a.Suspense,{fallback:u.a},a.a.createElement(m,null))))))},h=t(9),v=t.n(h),y=t(17),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(){return(k=Object(y.a)(v.a.mark(function n(e){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C();case 2:n.next=7;break;case 6:window.addEventListener("load",function(){var n="".concat(".","/service-worker.js");w?(I(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(n,e)});case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}function x(n,e){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;P("App is being cached localyy for offline purpose!"),null!=t&&(t.onstatechange=Object(y.a)(v.a.mark(function r(){var a,o,i;return v.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("installed"!==t.state){r.next=12;break}if(a=!1,o="New version of app is installed",i="Your app is installed and works offline",!navigator.serviceWorker.controller){r.next=7;break}console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&(e.onUpdate(n),a=!0),r.next=12;break;case 7:if(console.log("Content is cached for offline use."),!e||!e.onSuccess){r.next=12;break}return r.next=11,P(a?o:i);case 11:e.onSuccess(n);case 12:case"end":return r.stop()}},r)})))}}).catch(function(n){console.error("Error during service worker registration:",n)})}function C(){return O.apply(this,arguments)}function O(){return(O=Object(y.a)(v.a.mark(function n(){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(S()){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,window.Notification.requestPermission();case 4:if("granted"===n.sent){n.next=8;break}n.next=13;break;case 8:if(localStorage.getItem("firstnotify")){n.next=12;break}return n.next=11,P("Ohoo.. your first notification \ud83c\udf89\ud83d\ude4c");case 11:localStorage.setItem("firstnotify",!0);case 12:return n.abrupt("return",!0);case 13:case 14:case"end":return n.stop()}},n)}))).apply(this,arguments)}function S(){return"serviceWorker"in navigator&&"PushManager"in window||(alert("Sorry notifications are not yet supported"),!1)}function P(n){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(v.a.mark(function n(e){return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!S()){n.next=5;break}return n.next=3,new Notification(e);case 3:n.next=7;break;case 5:return n.next=7,C();case 7:case"end":return n.stop()}},n)}))).apply(this,arguments)}function I(n,e){fetch(n).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):x(n,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}window.addEventListener("online",function(n){P("Lost internet connection !")}),window.addEventListener("offline",function(n){P("Network connection restored !")}),i.a.render(a.a.createElement(g,null),document.getElementById("root")),function(n){k.apply(this,arguments)}()}},[[44,1,3]]]);
//# sourceMappingURL=main.906fdf8b.chunk.js.map